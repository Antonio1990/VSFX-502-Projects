<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><TITLE>Using the Combo Shader</TITLE><STYLE type="text/css"><!--A:link 	{ 	text-decoration: none;			color: #000066;		}A:visited 	{ text-decoration: none;			color: #005533;		}H3 {	font-family: Helvetica, sans-serif;		font-size: 12pt; 		line-height: 14pt; 		font-weight: bold;		margin-left: 0pt;		margin-bottom: 0pt;	}.head11 { 		font-family: Helvetica, sans-serif;		font-size: 11pt; 		line-height: 15pt; 		font-weight: bold;		margin-left: 0pt;		}P {	font-family: Helvetica, sans-serif;	font-size: 11pt;   	line-height: 15pt;    	margin-right: 0pt;	margin-left: 0pt;	margin-top: 0pt;	margin-bottom: 0pt;	   	}UL{	font-family: Helvetica, sans-serif;	font-size: 11pt;	line-height: 14pt;   	margin-left: 0pt;   	margin-top: 0pt;   	margin-bottom: 5pt;   	list-style-position: inside;   	color: #000000;   	}.purple { color: #661133; }.red { color: #aa0000; }.blue { color: #0000aa; }.white { color: #ffffff; }.green { color: #00aa00; }.gray44 { color: #444444; }PRE { 	font-family: courier, mono;		font-size: 10pt;		line-height: 13pt;		color: #000000;		}.css { display: none }--></STYLE></HEAD><BODY BGCOLOR="#ffffff" BACKGROUND="../../../img/adeepstripes.gif"><TABLE BORDER="0" CELLSPACING="0">    <TR>		<TD WIDTH="50" NOWRAP> </TD>			<TD WIDTH="400" VALIGN="TOP" ALIGN="LEFT" NOWRAP>			<H3 class="black">Tutorial<BR>			<SPAN class="red">Using the Combo Shader</SPAN></H3>			<BR><BR>		</TD>	</TR>	<TR>		<TD WIDTH="50" NOWRAP><!-- GUTTER --></TD>	   	<!--TD width="200" VALIGN="TOP" ALIGN="LEFT" NOWRAP>			<P><B>contents</B></P>			<UL>				<LI><A HREF="#basicwebpage">basic web page</A></LI>				<LI><A HREF="#addingimages">adding a gif/jpeg image</A></LI>				<LI><A HREF="#addingamovie">adding a movie</A></LI>				<LI><A HREF="#hyperlink">linking to another web page</A></LI>			</UL>	   	</TD-->			</TR></TABLE><TABLE BORDER="0" CELLSPACING="0">    <TR> 	<TD WIDTH="50" NOWRAP></TD>		<TD WIDTH="450" VALIGN="TOP" ALIGN="LEFT" NOWRAP>		<img src="../Ca301/img/redline.gif" width="130" height="1" ALT="line"><BR>	    <SPAN class="head11">GETTING STARTED</SPAN><BR>		<P>		This tutorial will demonstrate the use of a shader called combo. The shader		has the following parameters,		</P>		<PRE>float  Ks = 0.7,            /* specularity                            */       Kd = 0.5,            /* diffuse                                */       Ka = 1,              /* ambient                                */       roughness = .1,      /* small is very smooth                   */           <SPAN class="blue">       decalblend = 0</SPAN>,      /* mixture of decal with texture          */<SPAN class="blue">       envblend = 0</SPAN>,        /* contribution of the environment map    */					<SPAN class="red">       smovetex = 0</SPAN>,        /* shift the texture in "s"               */<SPAN class="red">       tmovetex = 0</SPAN>,        /* shift the texture in "t"               */<SPAN class="red">       smovetra = 0</SPAN>,        /* shift the transparency map in "s"      */<SPAN class="red">       tmovetra = 0</SPAN>,        /* shift the transparency map in "t"      */<SPAN class="red">       smovedecal = 0</SPAN>,      /* shift the decal map in "s"             */<SPAN class="red">       tmovedecal = 0</SPAN>,      /* shift the decal map in "t"             */<SPAN class="red">       smovedecalmask = 0</SPAN>,  /* shift the decalmask in "s"             */<SPAN class="red">       tmovedecalmask = 0</SPAN>;  /* shift the decalmask in "t"             */					color  specularcolor = 1;   /* color of the reflection                */string<SPAN class="purple"> texname = ""</SPAN>,        /* name of the texture map                */<SPAN class="purple">       traname = ""</SPAN>,        /* name of the transparency map           */<SPAN class="purple">       decalname = ""</SPAN>,      /* name of the decal map                  */<SPAN class="purple">       decalmask = ""</SPAN>,      /* name of the decal mask                 */<SPAN class="purple">       envname = ""</SPAN>,        /* name of the environment/reflection map */<SPAN class="purple">       specname = ""</SPAN>,       /* name of the specular map               */       envspace = "world"   /* coordinate system for the environment  */		</PRE>		<P>		The parameters shown in purple enable a texture map to be used for a		specific purpose. Those shown in red enable texture maps to be slid		across a surface in the the 's' and 't' directions. Those parameters		shown in blue are used to adjust the contributions of the decal and 		environment maps. Some examples will clarify the ways in which combo		can be used.		</P>		<BR>		<BR>		<TABLE BORDER="0" CELLSPACING="0" BGCOLOR="#000000">			<TR>				<TD COLSPAN="9" ALIGN="CENTER">				<P><SPAN class="white">The following images are used in this tutorial</SPAN></P>				<BR></TD>			</TR>			<TR>				<TD WIDTH="30"></TD>				<TD VALIGN="TOP" ALIGN="CENTER">				<img src="img/foreground.jpg" ALT="foreground"><BR><P><SPAN class="white">"foreground.tif"</SPAN></P>				</TD>				<TD WIDTH="10"></TD>				<TD VALIGN="TOP" ALIGN="CENTER">				<img src="img/mask.jpg" ALT="mask"><BR><P><SPAN class="white">"mask.tif"</SPAN></P>				</TD>				<TD WIDTH="10"></TD>				<TD VALIGN="TOP" ALIGN="CENTER">				<img src="img/background.jpg" ALT="background"><BR><P><SPAN class="white">"background.tif"</SPAN></P>				</TD>				<TD WIDTH="10"></TD>				<TD VALIGN="TOP" ALIGN="CENTER">				<img src="img/greengrid.jpg" ALT="greengrid"><BR><P><SPAN class="white">"greengrid.tif"</SPAN></P>				</TD>				<TD WIDTH="30"></TD>			</TR>		</TABLE>		<BR>		<BR>		<P>		The code shown below is a snippet taken from the RIB file used to		render the test frames.		</P>				<BR>		<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#ffff88">			<TR>				<TD><PRE>WorldBeginLightSource "distantlight" 1 "intensity" 1.5              "from" [0 0 1] "to" [0 0 0]AttributeBegin    Surface "combo" "Ks" 0.7 "Kd" 0.5    Scale 4 4 1    Polygon "P" [-0.5 -0.5 0   0.5 -0.5 0  0.5 0.5 0  -0.5 0.5 0]                "st" [0 0  1 0  1 1  0 1]    AttributeEndWorldEnd</PRE>				</TD>			</TR>		</TABLE>		</TD>    </TR> 	  </TABLE><BR><BR><TABLE BORDER="0" CELLSPACING="0">    <TR> 	<TD WIDTH="50" NOWRAP></TD>		<TD WIDTH="450" VALIGN="TOP" ALIGN="LEFT" NOWRAP>		<P><SPAN class="purple">		<B>combo as a texture mapper</B>		</SPAN></P>		<img src="img/render_background.jpg" ALT="foreground"><BR>		<TABLE BORDER="0" CELLSPACING="0" BGCOLOR="#ffff88">			<TR>				<TD WIDTH="427" NOWRAP>				<PRE>    Surface "combo" "Ks" 0.7 "Kd" 0.5            <B>"texname" ["background.tx"]</B></PRE>					</TD>			</TR>		</TABLE>		</TD>    </TR> 	  </TABLE><BR><BR><TABLE BORDER="0" CELLSPACING="0">    <TR> 	<TD WIDTH="50" NOWRAP></TD>		<TD WIDTH="450" VALIGN="TOP" ALIGN="LEFT" NOWRAP>		<P><SPAN class="purple">		<B>combo as an environment mapper</B>		</SPAN></P>		<img src="img/render_env1.jpg" ALT="env1"><BR>		<TABLE BORDER="0" CELLSPACING="0" BGCOLOR="#ffff88">			<TR>				<TD WIDTH="427" NOWRAP>				<PRE>    Surface "combo" "Ks" 0.7 "Kd" 0.5            <B>"envname" ["greengrid.tx"]            "envblend" 1</B></PRE>					</TD>			</TR>		</TABLE>		<BR>		<P>		To apply a tiff image as an environment it is necessary to		convert the image using the following statement in the RIB file,		</P>		<PRE><B>MakeLatLongEnvironment</B> "greengrid.tif" "greengrid.tx" "gaussian" 2 2</PRE>		<P>		The <B>envblend</B> parameter controls the visibility of the environment		map - a value of zero will make the map invisible.		</P>		</TD>    </TR> 	  </TABLE><BR><BR><TABLE BORDER="0" CELLSPACING="0">    <TR> 	<TD WIDTH="50" NOWRAP></TD>		<TD WIDTH="450" VALIGN="TOP" ALIGN="LEFT" NOWRAP>		<P><SPAN class="purple">		<B>combo as a decal mapper</B>		</SPAN></P>		<img src="img/decal_background1.jpg" ALT="decal1"><BR>		<TABLE BORDER="0" CELLSPACING="0" BGCOLOR="#ffff88">			<TR>				<TD WIDTH="427" NOWRAP>				<PRE>    Surface "combo" "Ks" 0.7 "Kd" 0.5            <B>"texname" ["background.tx"]            "decalmask" ["mask.tx"]            "decalname" ["foreground.tx"]            "decalblend" 0</B></PRE>					</TD>			</TR>		</TABLE>		<BR>		<P>		In the example shown above the foreground image (decalname) has		been applied to the background image (texname) through the		<B>stencil</B> (decalmask).		<BR>		<BR>				How much of the decal is applied to the background is controlled		by the <B>decalblend</B> parameter. A value of one will mix 100% 		of the background with 0% of the decal. In the animation	 	shown below the value of <B>decalblend</B> changes from 1 to 0.		</P>		<BR>		<TABLE BORDER="0" CELLSPACING="0">			<TR>				<TD WIDTH="427" NOWRAP ALIGN="CENTER">					<EMBED SRC="img/decalblend.mov" WIDTH=213 HEIGHT=140		       		CONTROLLER=true LOOP=true AUTOPLAY=false></EMBED><BR>				</TD>			</TR>		</TABLE>				</TD>    </TR> 	  </TABLE><BR><BR><TABLE BORDER="0" CELLSPACING="0">    <TR> 	<TD WIDTH="50" NOWRAP></TD>		<TD WIDTH="450" VALIGN="TOP" ALIGN="LEFT" NOWRAP>		<P><SPAN class="purple">		<B>combo as a decal / texture mover</B>		</SPAN></P>		<TABLE BORDER="0" CELLSPACING="0" BGCOLOR="#ffff88">			<TR>				<TD WIDTH="427" NOWRAP>				<PRE>    Surface "combo" "Ks" 0.7 "Kd" 0.5            "texname" ["background.tx"]            "decalmask" ["mask.tx"]            "decalname" ["foreground.tx"]            "decalblend" 0            <B>            "smovetex" 0            "tmovetex" 0            "smovedecal" 0            "tmovedecal" 0            "smovedecalmask" 0            "tmovedecalmask" 0            </B></PRE>					</TD>			</TR>		</TABLE>		<BR>		<P>		In the animation shown below the values of the "smovedecal" and 		"smovedecalmask" change from 0 to 1.		</P>		<BR>		<TABLE BORDER="0" CELLSPACING="0">			<TR>				<TD WIDTH="427" NOWRAP ALIGN="CENTER">					<EMBED SRC="img/decalmove.mov" WIDTH=213 HEIGHT=140		       		CONTROLLER=true LOOP=true AUTOPLAY=false></EMBED><BR>				</TD>			</TR>		</TABLE>		<BR>		<BR>		<P>		In the final animation the values of the "tmovedecal" and 		"tmovedecalmask" change from 0 to 1 and at the same time the		value of "smovetex" also changes from 0 to 1.		</P>		<BR>		<TABLE BORDER="0" CELLSPACING="0">			<TR>				<TD WIDTH="427" NOWRAP ALIGN="CENTER">					<EMBED SRC="img/allmove.mov" WIDTH=213 HEIGHT=140		       		CONTROLLER=true LOOP=true AUTOPLAY=false></EMBED><BR>				</TD>			</TR>		</TABLE>				</TD>    </TR> 	  </TABLE><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR></BODY></HTML>