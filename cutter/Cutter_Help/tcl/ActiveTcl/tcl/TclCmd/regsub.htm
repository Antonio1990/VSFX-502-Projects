<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta name='Author' content='ActiveState'>
<link rel='stylesheet' type='text/css' href='../../aspn.css'>
<title>Tcl Built-In Commands - regsub manual page</title>
</head>
<body>
<table width='100%' border='0' cellspacing='0' cellpadding='0'
bgcolor='EAE2BB'>
<tr>
<td><a target='_blank' href=
'http://www.ActiveState.com/Products/ActiveTcl'><img src=
'../../images/ActiveTcl.gif' border='0' align='left' height='61'
width='64'></a> </td>
<td>
<div align='center' class='heading'>ActiveTcl User Guide</div>
</td>
<td><a target='_blank' href='http://www.ActiveState.com'><img src=
'../../images/AS_logo.gif' border='0' align='right' height='48'
width='112'></a> </td>
</tr>

<tr>
<td class='lineColour' colspan='3'></td>
</tr>
</table>

<br>
<dl>
<dd><a href="regsub.htm#M2" name="L1066">NAME</a> 

<dl>
<dd>regsub - Perform substitutions based on regular expression
pattern matching</dd>
</dl>
</dd>

<dd><a href="regsub.htm#M3" name="L1067">SYNOPSIS</a> 

<dl>
<dd><b>regsub</b> ?<i>switches</i>? <i>exp string subSpec</i>
?<i>varName</i>?</dd>
</dl>
</dd>

<dd><a href="regsub.htm#M4" name="L1068">DESCRIPTION</a> 

<dl>
<dd><a href="regsub.htm#M5" name="L1069"><b>-all</b></a></dd>

<dd><a href="regsub.htm#M6" name="L1070"><b>-expanded</b></a></dd>

<dd><a href="regsub.htm#M7" name="L1071"><b>-line</b></a></dd>

<dd><a href="regsub.htm#M8" name="L1072"><b>-linestop</b></a></dd>

<dd><a href="regsub.htm#M9" name=
"L1073"><b>-lineanchor</b></a></dd>

<dd><a href="regsub.htm#M10" name="L1074"><b>-nocase</b></a></dd>

<dd><a href="regsub.htm#M11" name="L1075"><b>-start</b>
<i>index</i></a></dd>

<dd><a href="regsub.htm#M12" name="L1076"><b>-&nbsp;-</b></a></dd>
</dl>
</dd>

<dd><a href="regsub.htm#M13" name="L1077">SEE ALSO</a></dd>

<dd><a href="regsub.htm#M14" name="L1078">KEYWORDS</a></dd>
</dl>

<hr>
<h3><a name="M2">NAME</a></h3>

<p>regsub - Perform substitutions based on regular expression
pattern matching</p>

<h3><a name="M3">SYNOPSIS</a></h3>

<p><b>regsub</b> ?<i>switches</i>? <i>exp string subSpec</i>
?<i>varName</i>?<br>
</p>

<h3><a name="M4">DESCRIPTION</a></h3>

<p>This command matches the regular expression <i>exp</i> against
<i>string</i>, and either copies <i>string</i> to the variable
whose name is given by <i>varName</i> or returns <i>string</i> if
<i>varName</i> is not present. (Regular expression matching is
described in the <b><a href=
"../TclCmd/re_syntax.htm">re_syntax</a></b> reference page.) If
there is a match, then while copying <i>string</i> to
<i>varName</i> (or to the result of this command if <i>varName</i>
is not present) the portion of <i>string</i> that matched
<i>exp</i> is replaced with <i>subSpec</i>. If <i>subSpec</i>
contains a ``&amp;'' or ``\0'', then it is replaced in the
substitution with the portion of <i>string</i> that matched
<i>exp</i>. If <i>subSpec</i> contains a ``\<i>n</i>'', where
<i>n</i> is a digit between 1 and 9, then it is replaced in the
substitution with the portion of <i>string</i> that matched the
<i>n</i>-th parenthesized subexpression of <i>exp</i>. Additional
backslashes may be used in <i>subSpec</i> to prevent special
interpretation of ``&amp;'' or ``\0'' or ``\<i>n</i>'' or
backslash. The use of backslashes in <i>subSpec</i> tends to
interact badly with the Tcl parser's use of backslashes, so it's
generally safest to enclose <i>subSpec</i> in braces if it includes
backslashes.</p>

<p>If the initial arguments to <b>regsub</b> start with <b>-</b>
then they are treated as switches. The following switches are
currently supported:</p>

<dl>
<dt><a name="M5"><b>-all</b></a></dt>

<dd>All ranges in <i>string</i> that match <i>exp</i> are found and
substitution is performed for each of these ranges. Without this
switch only the first matching range is found and substituted. If
<b>-all</b> is specified, then ``&amp;'' and ``\<i>n</i>''
sequences are handled for each substitution using the information
from the corresponding match.</dd>

<dt><a name="M6"><b>-expanded</b></a></dt>

<dd>Enables use of the expanded regular expression syntax where
whitespace and comments are ignored. This is the same as specifying
the <b>(?x)</b> embedded option (see the <b><a href=
"../TclCmd/re_syntax.htm">re_syntax</a></b> manual page).</dd>

<dt><a name="M7"><b>-line</b></a></dt>

<dd>Enables newline-sensitive matching. By default, newline is a
completely ordinary character with no special meaning. With this
flag, `[^' bracket expressions and `.' never match newline, `^'
matches an empty string after any newline in addition to its normal
function, and `$' matches an empty string before any newline in
addition to its normal function. This flag is equivalent to
specifying both <b>-linestop</b> and <b>-lineanchor</b>, or the
<b>(?n)</b> embedded option (see the <b><a href=
"../TclCmd/re_syntax.htm">re_syntax</a></b> manual page).</dd>

<dt><a name="M8"><b>-linestop</b></a></dt>

<dd>Changes the behavior of `[^' bracket expressions and `.' so
that they stop at newlines. This is the same as specifying the
<b>(?p)</b> embedded option (see the <b><a href=
"../TclCmd/re_syntax.htm">re_syntax</a></b> manual page).</dd>

<dt><a name="M9"><b>-lineanchor</b></a></dt>

<dd>Changes the behavior of `^' and `$' (the ``anchors'') so they
match the beginning and end of a line respectively. This is the
same as specifying the <b>(?w)</b> embedded option (see the <b><a
href="../TclCmd/re_syntax.htm">re_syntax</a></b> manual page).</dd>

<dt><a name="M10"><b>-nocase</b></a></dt>

<dd>Upper-case characters in <i>string</i> will be converted to
lower-case before matching against <i>exp</i>; however,
substitutions specified by <i>subSpec</i> use the original
unconverted form of <i>string</i>.</dd>

<dt><a name="M11"><b>-start</b> <i>index</i></a></dt>

<dd>Specifies a character index offset into the string to start
matching the regular expression at. When using this switch, `^'
will not match the beginning of the line, and \A will still match
the start of the string at <i>index</i>. <i>index</i> will be
constrained to the bounds of the input string.</dd>

<dt><a name="M12"><b>-&nbsp;-</b></a></dt>

<dd>Marks the end of switches. The argument following this one will
be treated as <i>exp</i> even if it starts with a <b>-</b>.</dd>
</dl>

<p>If <i>varName</i> is supplied, the command returns a count of
the number of matching ranges that were found and replaced,
otherwise the string after replacement is returned. See the manual
entry for <b><a href="../TclCmd/regexp.htm">regexp</a></b> for
details on the interpretation of regular expressions.</p>

<h3><a name="M13">SEE ALSO</a></h3>

<p><b><a href="../TclCmd/regexp.htm">regexp</a></b>, <b><a href=
"../TclCmd/re_syntax.htm">re_syntax</a></b></p>

<h3><a name="M14">KEYWORDS</a></h3>

<p><a href="../Keywords/M.htm#match">match</a>, <a href=
"../Keywords/P.htm#pattern">pattern</a>, <a href=
"../Keywords/R.htm#regular expression">regular expression</a>, <a
href="../Keywords/S.htm#substitute">substitute</a></p>

<hr>
<pre>
<a href=
"../copyright.htm">Copyright</a> &copy; 1993 The Regents of the University of California.
<a href=
"../copyright.htm">Copyright</a> &copy; 1994-1996 Sun Microsystems, Inc.
<a href=
"../copyright.htm">Copyright</a> &copy; 2000 Scriptics Corporation.
<a href=
"../copyright.htm">Copyright</a> &copy; 1995-1997 Roger E. Critchlow Jr.
</pre>
</body>
</html>

