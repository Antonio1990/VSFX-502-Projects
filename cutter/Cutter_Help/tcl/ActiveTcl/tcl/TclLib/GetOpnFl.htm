<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta name='Author' content='ActiveState'>
<link rel='stylesheet' type='text/css' href='../../aspn.css'>
<title>Tcl Library Procedures - Tcl_GetOpenFile manual page</title>
</head>
<body>
<table width='100%' border='0' cellspacing='0' cellpadding='0'
bgcolor='EAE2BB'>
<tr>
<td><a target='_blank' href=
'http://www.ActiveState.com/Products/ActiveTcl'><img src=
'../../images/ActiveTcl.gif' border='0' align='left' height='61'
width='64'></a> </td>
<td>
<div align='center' class='heading'>ActiveTcl User Guide</div>
</td>
<td><a target='_blank' href='http://www.ActiveState.com'><img src=
'../../images/AS_logo.gif' border='0' align='right' height='48'
width='112'></a> </td>
</tr>

<tr>
<td class='lineColour' colspan='3'></td>
</tr>
</table>

<br>
<h3><a name="M2">NAME</a></h3>

<p>Tcl_GetOpenFile - Get a standard IO File * handle from a
channel. (Unix only)</p>

<h3><a name="M3">SYNOPSIS</a></h3>

<p><b>#include &lt;tcl.h&gt;</b><br>
int<br>
<b>Tcl_GetOpenFile</b>(<i>interp, string, write, checkUsage,
filePtr</i>)<br>
</p>

<h3><a name="M4">ARGUMENTS</a></h3>

<dl>
<dt><a href="../TclLib/Interp.htm">Tcl_Interp</a> <b>*interp</b>
(in)</dt>

<dd>Tcl interpreter from which file handle is to be obtained.</dd>

<dt>CONST char <b>*string</b> (in)</dt>

<dd>String identifying channel, such as <b>stdin</b> or
<b>file4</b>.</dd>

<dt>int <b>write</b> (in)</dt>

<dd>Non-zero means the file will be used for writing, zero means it
will be used for reading.</dd>

<dt>int <b>checkUsage</b> (in)</dt>

<dd>If non-zero, then an error will be generated if the file wasn't
opened for the access indicated by <i>write</i>.</dd>

<dt>ClientData <b>*filePtr</b> (out)</dt>

<dd>Points to word in which to store pointer to FILE structure for
the file given by <i>string</i>.</dd>
</dl>

<h3><a name="M5">DESCRIPTION</a></h3>

<p><b>Tcl_GetOpenFile</b> takes as argument a file identifier of
the form returned by the <b><a href=
"../TclCmd/open.htm">open</a></b> command and returns at
<i>*filePtr</i> a pointer to the FILE structure for the file. The
<i>write</i> argument indicates whether the FILE pointer will be
used for reading or writing. In some cases, such as a channel that
connects to a pipeline of subprocesses, different FILE pointers
will be returned for reading and writing. <b>Tcl_GetOpenFile</b>
normally returns TCL_OK. If an error occurs in
<b>Tcl_GetOpenFile</b> (e.g. <i>string</i> didn't make any sense or
<i>checkUsage</i> was set and the file wasn't opened for the access
specified by <i>write</i>) then TCL_ERROR is returned and the
interpreter's result will contain an error message. In the current
implementation <i>checkUsage</i> is ignored and consistency checks
are always performed.</p>

<p>Note that this interface is only supported on the Unix
platform.</p>

<h3><a name="M6">KEYWORDS</a></h3>

<p><a href="../Keywords/C.htm#channel">channel</a>, <a href=
"../Keywords/F.htm#file handle">file handle</a>, <a href=
"../Keywords/P.htm#permissions">permissions</a>, <a href=
"../Keywords/P.htm#pipeline">pipeline</a>, <a href=
"../Keywords/R.htm#read">read</a>, <a href=
"../Keywords/W.htm#write">write</a></p>

<hr>
<pre>
<a href=
"../copyright.htm">Copyright</a> &copy; 1996-1997 Sun Microsystems, Inc.
<a href=
"../copyright.htm">Copyright</a> &copy; 1995-1997 Roger E. Critchlow Jr.
</pre>
</body>
</html>

